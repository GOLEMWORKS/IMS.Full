@page "/inventories"

@inject NavigationManager NavigationManager


<h3>Хранилище склада</h3>

<br />

<ViewInventoriesComponent OnSearchInventories="OnSearchInventories"></ViewInventoriesComponent>
    
<br />
@if(listInventories != null)
{
<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Наименование</th>
            <th>Количество</th>
            <th>Стоимость</th>
            <th>Функции</th>
        </tr>
    </thead>
    <tbody>
        @foreach(var inv in this.listInventories)
        {
            <tr>
            <td class="w-25">@inv.InventoryName</td>
            <td>@inv.Quantity шт</td>
            <td class="w-25">@inv.Price.ToString("c", new System.Globalization.CultureInfo("ru-RU"))</td>
            <td>
                <div class="btn-group w-75">
                    <button 
                        class="btn btn-outline-success"
                        type="button"
                        @onclick="@(() => RedirectToEdit(inv.InventoryId))">
                            Редактировать 
                            <i class="fa fa-pencil"></i>
                    </button>
                    <button class="btn btn-outline-primary"
                            type="button">
                            Информация
                            <i class="fa fa-info"></i>
                    </button>
                    <button class="btn btn-outline-danger"
                            type="button">
                            Удалить
                            <i class="fa fa-trash"></i>
                    </button>
                </div>
            </td>
            </tr>
        }
    </tbody>
</table>
    }
@code {
    private List<Inventory>? listInventories;
    private void OnSearchInventories(List<Inventory> inventory)
    {
        listInventories = inventory;
    }

    public void RedirectToEdit(int invId)
    {
        NavigationManager.NavigateTo($"/editinventory/{invId}");
    }
}
